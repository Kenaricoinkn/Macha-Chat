<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>MACHA CHAT — Masuk</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>tailwind.config={theme:{extend:{colors:{brand:'#7C9BFF',brand2:'#A07CFF'}}}}</script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./css/styles.css">
</head>
<body class="min-h-screen bg-[#0b1020] text-slate-100">
  <header class="px-6 py-5">
    <div class="max-w-2xl mx-auto flex items-center gap-3">
      <div class="logo">💬</div>
      <h1 class="brand">MACHA <span>CHAT</span></h1>
    </div>
  </header>

  <main class="px-6 pb-16">
    <div class="max-w-2xl mx-auto card p-5 md:p-7">
      <!-- Tabs -->
      <div class="flex gap-2 mb-5">
        <button id="tab-email" class="tab-btn pill" aria-selected="true">Masuk Email</button>
        <button id="tab-phone" class="tab-btn pill" aria-selected="false">Masuk Telepon</button>
      </div>

      <!-- EMAIL PANEL -->
      <section id="panel-email" class="grid gap-3">
        <label class="text-sm">Email</label>
        <input id="email" type="email" class="input" placeholder="nama@email.com" autocomplete="email"/>

        <label class="mt-2 text-sm">Kata sandi</label>
        <div class="relative">
          <input id="password" type="password" class="input w-full pr-12" placeholder="••••••••" autocomplete="current-password"/>
          <button id="togglePass" type="button" class="toggle-eye">👁️</button>
        </div>

        <button id="btnEmail" class="btn btn-primary mt-3">Masuk</button>
        <p class="text-sm text-slate-300 mt-2">Belum punya akun?
          <a id="linkToRegisterEmail" class="link" href="#">Daftar</a></p>
      </section>

      <!-- PHONE PANEL -->
      <section id="panel-phone" class="hidden grid gap-3">
        <label class="text-sm">Nomor Telepon</label>
        <input id="phone" inputmode="tel" class="input" placeholder="+62 812-3456-7890"/>

        <div class="grid gap-2 sm:grid-cols-2 mt-2">
          <button id="sendOTP" class="btn btn-outline">Kirim Kode</button>
          <button id="useEmail" class="btn btn-outline">Pakai Email</button>
        </div>

        <div id="otpArea" class="hidden">
          <label class="mt-3 text-sm">Kode OTP</label>
          <input id="otp" inputmode="numeric" maxlength="6" class="input" placeholder="6 digit"/>
          <button id="verifyOTP" class="btn btn-primary mt-3">Verifikasi & Masuk</button>
        </div>

        <p class="text-sm text-slate-300 mt-2">Belum punya akun?
          <a id="linkToRegisterPhone" class="link" href="#">Daftar dengan Telepon</a></p>

        <!-- reCAPTCHA container (invisible) -->
        <div id="recaptcha-container"></div>
      </section>
    </div>

    <p class="max-w-2xl mx-auto text-center text-xs text-slate-400 mt-4">
      Dengan masuk, Anda menyetujui ketentuan layanan kami.
    </p>
  </main>

  <!-- Toast -->
  <div id="toast" class="toast hidden"></div>

  <!-- Pemanggilan script: WAJIB path benar & type=module -->
  <script type="module" src="./js/app-core.js"></script>

  <noscript>
    <div class="noscript">Aktifkan JavaScript agar form bisa digunakan.</div>
  </noscript>
</body>
</html>
