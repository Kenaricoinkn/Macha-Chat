<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Macha Chat — Realtime</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: { brand:'#7C9BFF', brand2:'#A07CFF', dark:'#0b1020' }
        }
      }
    }
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: radial-gradient(circle at 20% 20%, #131b3a, #0b1020 85%);
      color: #f1f5f9;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    .fade { animation: fadeIn .5s ease; }
    @keyframes fadeIn { from{opacity:0;transform:translateY(10px);} to{opacity:1;transform:none;} }
  </style>
</head>
<body class="overflow-hidden">

  <header class="flex justify-between items-center px-4 py-3 bg-dark/80 backdrop-blur-md border-b border-slate-700/40 sticky top-0 z-50">
    <h1 class="font-bold text-lg bg-gradient-to-r from-brand to-brand2 text-transparent bg-clip-text">Macha Chat 💬</h1>
    <span id="userEmail" class="text-slate-400 text-sm"></span>
  </header>

  <!-- LIST CHAT -->
  <main id="chatList" class="flex-1 p-4 overflow-y-auto fade">
    <h2 class="text-slate-300 font-semibold mb-3">Pesan Terbaru</h2>
    <div id="chatList" class="space-y-2"></div>
    <button id="newChatBtn" class="fixed bottom-6 right-6 bg-gradient-to-r from-brand to-brand2 text-white rounded-full p-4 shadow-lg hover:scale-105 transition">➕</button>
  </main>

  <!-- CHAT ROOM -->
  <section id="chatRoom" class="hidden flex-1 flex flex-col fade">
    <div class="flex items-center gap-2 px-4 py-3 bg-slate-900/80 border-b border-slate-700/50">
      <button id="backBtn" class="text-indigo-400 hover:text-indigo-300">⬅️</button>
      <h3 class="font-semibold text-slate-100">Percakapan</h3>
    </div>
    <div id="chatBox" class="flex-1 overflow-y-auto p-4"></div>
    <div class="flex items-center p-3 bg-slate-900/80 backdrop-blur-md border-t border-slate-700/50">
      <input id="msgInput" type="text" placeholder="Ketik pesan..." class="flex-1 bg-slate-800/60 text-white rounded-lg px-3 py-2 border border-slate-700/40 focus:outline-none"/>
      <button id="sendBtn" class="ml-2 px-4 py-2 bg-gradient-to-r from-brand to-brand2 rounded-lg text-white font-medium shadow-md">Kirim</button>
    </div>
  </section>

  <script type="module" src="./js/chat.js"></script>
</body>
</html>
