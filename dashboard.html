<!doctype html>
<html lang="id">
<meta charset="utf-8">
<title>MACHA CHAT â€” Dashboard</title>
<style>
  body{font-family:Inter,system-ui;background:#0b1020;color:#fff;margin:0}
  .wrap{padding:24px}
  .btn{background:#1f2937;border:1px solid #334155;color:#e5e7eb;
       padding:.6rem .9rem;border-radius:12px;cursor:pointer}
  .btn:hover{background:#111827}
</style>

<body>
  <div class="wrap">
    <h1>Halo, selamat datang di Dashboard MACHA CHAT ðŸŽ‰</h1>
    <p>Login berhasil. Nanti di sini kita isi feed/timeline.</p>
    <button id="logoutBtn" class="btn">Keluar</button>
  </div>

  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js'
    import { getAuth, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/10.12.5/firebase-auth.js'

    const firebaseConfig = {
      apiKey: "AIzaSyDIsTmg0_-rcz9tH3U-_sZuWk7sUOLgMSw",
      authDomain: "macha-chat.firebaseapp.com",
      projectId: "macha-chat",
      storageBucket: "macha-chat.appspot.com",
      messagingSenderId: "576142384286",
      appId: "1:576142384286:web:cfed000ac8a50b662a6f8f",
      measurementId: "G-6ZMFHMZVEK"
    };
    const app = initializeApp(firebaseConfig)
    const auth = getAuth(app)

    onAuthStateChanged(auth,(user)=>{
      if(!user){
        window.location.replace('./index.html')
      }
    })

    document.getElementById('logoutBtn').onclick = async ()=>{
      await signOut(auth)
      window.location.replace('./index.html')
    }
  </script>
</body>
</html>
